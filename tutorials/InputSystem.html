<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Using Input System </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Using Input System ">
    <meta name="generator" content="docfx 2.56.5.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="using-input-system">Using Input System</h1>

<hr>
<p>VotanicXR has built up interfaces for the input system, and divided the input into four levels, <strong>Command level</strong>, <strong>Virtual Controller level</strong>, <strong>Real Device Handler level</strong> and <strong>Real Device level</strong>, in decreasing order. This page will introduce the first two levels, and we recommend using the highest level.</p>
<h2 id="before-using-input-system">Before Using Input System</h2>
<p>In order to use the input system, input devices are needed. The sample devices and mapping of it are shown in SDK manual provided in SDK package, if you want to configure the mapping of a specific controller, please go to the chapter <a href="UsingConfigurator.html">Using Configurator</a>, and we will use the Vive controller with HMD as VR controller in this tutorial.</p>
<p>To set up the VR controller with OpenVR, please go to page <a href="SettingUpwithOpenVR.html">Setting Up with OpenVR</a>, or simply launch SteamVR. The controllers accepted by VotanicXR is listed in the SDK manual with button mapping by default.</p>
<ol>
<li><p>Open the scene with <code>vGear SDK Manager</code> created in the previous chapter, or customize with props provided.</p>
<p><img src="../images/4.1.0.png" alt="Scene set up with props"></p>
</li>
<li><p>Create a new Gameobject with name <code>TutorialController</code>, and add a component called <code>InputTutorial</code>. Open the script created in <code>Microsoft Visual Studio (or other IDE supported)</code>. The input levels with be introduced using VotanicXR API below.</p>
<p><img src="../images/4.1.1.png" alt="Create new script with gameobject"></p>
</li>
</ol>
<h2 id="using-level-4---command-level">Using Level 4 - Command Level</h2>
<p>The highest level is the Command Level, the reference class is <code>vGear.Cmd</code> class. This component is to send and receive commands, which is good for further development and maintenance. The basic usage for <code>Send</code> and <code>Receive</code> is shown below.</p>
<pre><code class="csharp">
void Start()
{
    vGear.Cmd.Send("Custom");
}

void Update(){
    if (vGear.Cmd.Received("Custom"))
    {
        Debug.Log("Custom command received!");
    }
}
</code></pre>
<p><img src="../images/4.2.2.png" alt="Console Result Send and Received"></p>
<p>Some commands are predefined with features, such as <code>Move</code>, <code>Rotate</code> and <code>Trigger</code>, additional commands can be defined in the configurator. To check if the additional commands received and the value of the input, you may use <code>AllReceived()</code> as shown below.</p>
<pre><code class="csharp">
void Update(){
    foreach (string command in vGear.Cmd.AllReceived())
    {
        Debug.Log("The value of " + command + "command is " + vGear.Cmd.Value(command));
        switch (command)
        {
            case "FunctionA":
                FunctionA();
                break;
        }
    }
}
</code></pre>
<p><img src="../images/4.2.4.png" alt="Console Result of AllReceived and Value"></p>
<h2 id="using-level-3---virtual-controller-level">Using Level 3 - Virtual Controller Level</h2>
<p>The second-highest level is Virtual Controller Level, the reference class of the level is <code>vGear.Ctrl</code> class. By default, this component will bind with Buttons and Axes of the connected devices automatically. The bound mapping can be edited in the <a href="Configurator.html">configurator</a>, and the mapping can be customized for user needs.</p>
<p>The usage of the class is straightforward with using the action of the input key, the sample is shown below.</p>
<pre><code class="csharp">
void Update()
{
    if (vGear.Ctrl.ButtonDown(0))
    {
        Debug.Log("Button 0 is down.");
    }
    if (vGear.Ctrl.ButtonHold(0))
    {
        Debug.Log("Button 0 is held for some time.");
    }
    if (vGear.Ctrl.ButtonPress(0))
    {
        Debug.Log("Button 0 is pressing.");
    }

    if (vGear.Ctrl.AxisDown(0))
    {
        Debug.Log("Axis 0 is down.");
    }
    if (vGear.Ctrl.AxisHold(0))
    {
        Debug.Log("Axis 0 is held for some time.");
    }
    if (vGear.Ctrl.AxisPress(0))
    {
        Debug.Log("Axis 0 is pressing with value " + 
            vGear.Ctrl.AxisValue(0).ToString("F2") + ".");
    }
}
</code></pre>
<p><img src="../images/4.3.3.png" alt="Console Result of AllReceived and Value"></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
